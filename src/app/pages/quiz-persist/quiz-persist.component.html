<app-async-page [showSpinner]="isLoading">
  @if (!isLoading) {
    <form class="container mt-2 mb-2">
      <app-quiz-persist-header [context]="context" />

      @for (formGroup of context.form.controls.openQuestions.controls; track formGroup) {
        <app-quiz-persist-open-question [formGroup]="formGroup" />
      }

      @for (formGroup of context.form.controls.singleChoiceQuestions.controls; track formGroup) {
        <app-quiz-persist-single-choice-question [formGroup]="formGroup" />
      }

      <div class="row mt-2">
        <div class="col d-flex justify-content-end">
          <app-button class="me-2" [text]="{ text: 'CANCEL' }" [style]="ButtonStyle.Outlined" />
          <app-button [text]="{ text: 'SAVE' }" />
        </div>
      </div>
    </form>
  }
</app-async-page>
