<mat-form-field>
  <mat-label>{{ innerLabel | textConfigTranslate }}</mat-label>
  <input
    matInput
    [readonly]="readonly()"
    [type]="innerType"
    [formControl]="formControl()"
    [minlength]="minLength() ?? null"
    [maxlength]="maxLength() ?? null"
  />

  @if (passwordShowButton()) {
    <button
      mat-icon-button
      matSuffix
      (click)="changePasswordHideState()"
      [attr.aria-pressed]="isPasswordHidden"
    >
      <mat-icon>{{ isPasswordHidden ? Icon.VisibilityOff : Icon.Visibility }} </mat-icon>
    </button>
  }

  @if (hint()) {
    <app-hint [config]="hint()!" [template]="hintTemplate()"></app-hint>
  }

  @if (formControl().errors) {
    <mat-error>
      @if (formControl().hasError(InputValidation.Required)) {
        {{ "FIELD_IS_REQUIRED" | translate }}
      } @else if (
        formControl().hasError(InputValidation.MinLength) || formControl().hasError(InputValidation.MaxLength)
      ) {
        @if (minLength() && maxLength()) {
          {{ "VALID_TEXT_RANGE" | translate: { min: this.minLength(), max: this.maxLength() } }}
        } @else {
          @if (formControl().hasError(InputValidation.MinLength)) {
            {{ "MIN_TEXT_LENGTH" | translate: { value: this.minLength() } }}
          }
          @if (formControl().hasError(InputValidation.MaxLength)) {
            {{ "MAX_TEXT_LENGTH" | translate: { value: this.maxLength() } }}
          }
        }
      } @else if (formControl().hasError(InputValidation.Email)) {
        {{ "INVALID_FORMAT" | translate }}
      } @else if (innerError) {
        {{ innerError | textConfigTranslate }}
      }
    </mat-error>
  }
</mat-form-field>
